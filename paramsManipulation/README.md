# About

Скрипт для манипуляций UTM параметров (UTM, Urchin Tracking Module))

- Настройка UTM меток при отсутствии их в URL
- Статичная настройка UTM меток (при наличии и отсутствии их в URL)
- Генерация ссылки для редиректов с UTM метками лендинга

# Example usage

### 1. Вставить `script.js` в блок T123 в тэгах `<script></script>`

### 2. Настроить метки, которые необходимо вставить, если они отсутствуют в URL параметрах в `replaceParam`

### 3. Настроить метки, которые необходимо задать статично, вне зависимости от URL в `searchParams.set`

### 4. Создать переменную для редиректа. Необходимо для передачи UTM меток при кастомном редиректе после заявки или регистрации

```js
let tgRedirectLink = new URL(`https://salebot.site/skyeng`);
for (let [key, value] of currentParams) {
  tgRedirectLink.searchParams.set(key, value);
}
```

### 6. Примечания

```js
window.history.replaceState(null, null, "?" + searchParams.toString());
```

Добавляет статичные метки в текущую ссылку, чтобы остальные скрипты могли их переиспользовать

Скрипт сохранения UTM меток при переходе обеспечивает корректную передачу UTM параметров при переходе по ссылкам в кнопках Tilda и навигации по внутренним страницам
